[
  {
    "slug": "openhab",
    "port": 8080,
    "nginx_block": "location = ${PATH} { return 308 ${PATH}/; }\nlocation ^~ ${PATH}/ {\n    rewrite ^${PATH}/(.*)$ /$1 break;\n    proxy_http_version 1.1;\n    proxy_set_header Upgrade $http_upgrade;\n    proxy_set_header Connection $connection_upgrade;\n    proxy_set_header Host $host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto $scheme;\n\n    # Rewriting absolute URLs so the app works under ${PATH}\n    sub_filter_once off;\n    sub_filter_types text/html text/css application/javascript application/json text/plain;\n\n    sub_filter 'href=\"/'  'href=\"${PATH}/';\n    sub_filter 'src=\"/'   'src=\"${PATH}/';\n    sub_filter 'action=\"/' 'action=\"${PATH}/';\n    sub_filter 'url(/'     'url(${PATH}/';\n\n    # Fix JS/HTML absolute calls\n    sub_filter '\"/rest'    '\"${PATH}/rest';\n    sub_filter \"'/rest\"    \"'${PATH}/rest\";\n    sub_filter '\"/images/'  '\"${PATH}/images/';\n    sub_filter \"'/images/\"  \"'${PATH}/images/\";\n\n    proxy_pass ${UPSTREAM};\n}\n"
  }
]
